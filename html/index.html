<!DOCTYPE html>
<html>
<head>
    <base target="_top">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion Dadas de Baja</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <?!= HtmlService.createHtmlOutputFromFile('html/styles').getContent(); ?>
</head>

<body>
    <!-- Alert Container -->
    <div id="alertContainer" class="alert-container"></div>

    <!-- Pantalla de Login -->
    <div id="loginScreen" class="login-container">
        <div class="login-card">
            <div class="logo-container">
                <div class="logo">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRvdptdCHB1bOarb5mxM-jRVL2XWq6FdYKUcA&s" class="logo-img" alt="DORIA">
                </div>
            </div>
            <h2 class="login-title">Gestion Dadas de Bajas</h2>
            <p class="login-subtitle">DORIA - 2025</p>
            
            <form id="loginForm">
                <div class="form-group">
                    <label for="email">Correo Electrónico</label>
                    <input type="email" id="email" name="email" placeholder="usuario@alimentosdoria.com" required>
                </div>
                
                <div class="form-group">
                    <label for="password">Contraseña</label>
                    <input type="password" id="password" autocomplete="current-password" name="password" placeholder="••••••••" required>
                </div>
                
                <button type="submit" class="btn btn-primary">
                    <span><i class="fa-solid fa-user-lock" style=" margin-right: 10PX;"></i></span> Iniciar Sesión
                </button>
                
                <p class="register-link">
                    ¿No tienes cuenta? <a href="javascript:void(0)" onclick="showRegister()">Regístrate aquí</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Pantalla de Registro -->
    <div id="registerScreen" class="login-container" style="display: none;">
        <div class="login-card">
            <div class="logo-container">
                <div class="logo">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRvdptdCHB1bOarb5mxM-jRVL2XWq6FdYKUcA&s" class="logo-img" alt="DORIA">
                </div>
            </div>
            <h2 class="login-title">Registro de Usuario</h2>
            
            <form id="registerForm">
                <div class="form-group">
                    <label for="regName">Nombre Completo</label>
                    <input type="text" id="regName" name="name" required>
                </div>
                
                <div class="form-group">
                    <label for="regEmail">Correo Electrónico</label>
                    <input type="email" id="regEmail" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="regPassword">Contraseña</label>
                    <input type="password" id="regPassword" autocomplete="current-password" name="password" required>
                </div>
                
                <div class="form-group">
                    <label for="regProceso">Proceso</label>
                    <select id="regProceso" name="proceso" required>
                        <option value="">Seleccione un proceso</option>
                        <option value="ALMACÉN GENERAL">ALMACÉN GENERAL</option>
                        <option value="ALMACÉN MATERIAS PRIMAS">ALMACÉN MATERIAS PRIMAS</option>
                        <option value="LOGÍSTICA">LOGÍSTICA</option>
                        <option value="MOLINO">MOLINO</option>
                        <option value="EMPAQUE">EMPAQUE</option>
                        <option value="PASTIFICIO">PASTIFICIO</option>
                        <option value="MANUFACTURA">MANUFACTURA</option>
                        <option value="EXCELENCIA OPERACIONAL / PROYECTOS">EXCELENCIA OPERACIONAL / PROYECTOS</option>
                        <option value="PLANEACIÓN">PLANEACIÓN</option>
                        <option value="MANTENIMIENTO">MANTENIMIENTO</option>
                        <option value="SISTEMA DE INFORMACIÓN">SISTEMA DE INFORMACIÓN</option>
                        <option value="CABAS">CABAS</option>
                        <option value="CALIDAD">CALIDAD</option>
                        <option value="AMBIENTAL">AMBIENTAL</option>
                        <option value="INNOVACIÓN Y DESARROLLO">INNOVACIÓN Y DESARROLLO</option>
                        <option value="MERCADEO">MERCADEO</option>
                        <option value="COMERCIAL">COMERCIAL</option>
                        <option value="GESTIÓN HUMANA">GESTIÓN HUMANA</option>
                        <option value="SEGURIDAD Y SALUD EN EL TRABAJO">SEGURIDAD Y SALUD EN EL TRABAJO</option>
                        <option value="CONTROL GESTION">CONTROL GESTION</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="regCargo">Cargo</label>
                    <input type="text" id="regCargo" name="cargo" required>
                </div>
                
                <button type="submit" class="btn btn-primary">
                    <span><i class="fa-solid fa-pen-to-square" style=" margin-right: 10PX;"></i></span> Registrarse
                </button>
                
                <p class="register-link">
                    ¿Ya tienes cuenta? <a href="javascript:void(0)" onclick="showLogin()">Inicia sesión aquí</a>
                </p>
            </form>
        </div>
    </div>

    <!-- Dashboard Principal -->
    <div id="dashboard" class="dashboard" style="display: none;">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo-contain-sidebar">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRvdptdCHB1bOarb5mxM-jRVL2XWq6FdYKUcA&s" class="logo-sidebar" alt="DORIA">
                </div>
                <div class="system-title">
                    <h3 style="text-align: center;">SISTEMA DE BAJA</h3>
                    <p style="text-align: center;">GESTIÓN DE ELEMENTOS</p>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-item active" id="navNuevaSolicitud" onclick="showNewRequest()">
                    <span class="nav-icon"><i class="fa-solid fa-file-pen"></i></span>
                    Nueva Solicitud
                </div>
                <div class="nav-item" id="navHistorial" onclick="showHistory()">
                    <span class="nav-icon"><i class="fa-solid fa-clipboard"></i></span>
                    Mi Historial
                </div>
                <div class="nav-item" id="navAdministracion" onclick="showAdmin()" style="display: none;">
                    <span class="nav-icon"><i class="fa-solid fa-user-gear"></i></span>
                    Pendientes
                </div>
                <div class="nav-item" id="navValidadas" onclick="showValidadas()" style="display: none;">
                    <span class="nav-icon"><i class="fa-solid fa-recycle"></i></span>
                    Validadas
                </div>
            </nav>
            
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <div class="user-details">
                        <span class="user-name" id="userName">Usuario</span>
                        <span class="user-role" id="userRole">USUARIO</span>
                    </div>
                </div>
                <button class="btn-logout" onclick="logout()">
                    <span><i class="fa-solid fa-right-from-bracket"></i></span> Cerrar Sesión
                </button>
            </div>
        </div>

        <!-- Contenido Principal -->
        <div class="main-content">
            <!-- Nueva Solicitud -->
            <div id="newRequestContent" class="content-section">
                <div class="content-header">
                    <div>
                        <h1>Nueva Solicitud de Baja</h1>
                        <p>Complete el formulario para solicitar la baja de un elemento</p>
                    </div>
                </div>
                
                <form id="newRequestForm" class="request-form">
                    <div class="form-section">
                        <div class="section-header">
                            <span class="section-icon"><i class="fa-solid fa-dolly"></i></span>
                            <h3>Información del Elemento</h3>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="procesoSeleccionado">Proceso *</label>
                                <select id="procesoSeleccionado" name="procesoSeleccionado" required>
                                    <option value="">Seleccione el proceso</option>
                                    <option value="ALMACÉN GENERAL">ALMACÉN GENERAL</option>
                                    <option value="ALMACÉN MATERIAS PRIMAS">ALMACÉN MATERIAS PRIMAS</option>  
                                    <option value="MOLINO">MOLINO</option>
                                    <option value="EMPAQUE">EMPAQUE</option>
                                    <option value="PASTIFICIO">PASTIFICIO</option>
                                    <option value="MANTENIMIENTO">MANTENIMIENTO</option>
                                    <option value="SISTEMA DE INFORMACIÓN">SISTEMA DE INFORMACIÓN</option>
                                    <option value="CALIDAD">CALIDAD</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="nombreElemento">Nombre del Elemento *</label>
                                <input type="text" id="nombreElemento" name="nombreElemento" 
                                       placeholder="Ej: Escritorio de oficina, Molde #123, etc." required>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="tipoElemento">Tipo de Elemento *</label>
                                <select id="tipoElemento" name="tipoElemento" onchange="toggleValorRango()" required>
                                    <option value="">Seleccione el tipo</option>
                                    <option value="MOLDES E INSERTOS">Moldes e Insertos</option>
                                    <option value="MAQUINARIA">Maquinaria</option>
                                    <option value="ESTIBAS DE MADERA Y/O GUACALES">Estibas de madera y/o Guacales</option>
                                    <option value="INSUMO MATERIA PRIMA">Insumo Materia Prima</option>
                                    <option value="INSUMOS MATERIALES DE EMPAQUE">Insumos Materiales de Empaque</option>
                                    <option value="MOBILIARIOS">Mobiliarios</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="tipo2">Tipo de Desperdicio * (Si no esta el elemento informar a Ambiental)</label>
                                  <select id="tipo2" name="tipo2" required>
                                    <option value="">Seleccione</option>
                                    <option value="Aceite mineral usado">Aceite mineral usado</option>
                                    <option value="Aceite Vegetal usado">Aceite Vegetal usado</option>
                                    <option value="Cables">Cables</option>
                                    <option value="Carton">Carton</option>
                                    <option value="Chatarra">Chatarra</option>
                                    <option value="Cores">Cores</option>
                                    <option value="Descarte">Descarte</option>
                                    <option value="Estiba completa">Estiba completa</option>
                                    <option value="Estiba rota, guacal, pedazos de madera">Estiba rota, guacal, pedazos de madera</option>
                                    <option value="Insertos">Insertos</option>
                                    <option value="Lonas">Lonas</option>
                                    <option value="Moldes">Moldes</option>
                                    <option value="Plastico Rigido">Plastico Rigido</option>
                                    <option value="Plastico Vario">Plastico Vario</option>
                                    <option value="Plegadiza">Plegadiza</option>
                                    <option value="Polietileno">Polietileno</option>
                                    <option value="Polipropileno">Polipropileno</option>
                                    <option value="Recorte Humedo">Recorte Humedo</option>
                                    <option value="Recorte Saborizado">Recorte Saborizado</option>
                                    <option value="Recorte Seco">Recorte Seco</option>
                                    <option value="Vasos desechables">Vasos desechables</option>
                                    <option value="Vidrio">Vidrio</option>
                                    <option value="Bolsas Metalizadas">Bolsas Metalizadas</option>
                                    <option value="RAE">RAE</option>
                                  </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group" style="display: none;">
                                <label for="kiloGalon">Kilo / Galon *</label>
                                <input type="number" id="kiloGalon" name="kiloGalon" >
                            </div>
                            
                            <div class="form-group"  style="display: none;">
                                <label for="calculoPrecio">Precio total *</label>
                                <small id="calculoFormatted" style="font-weight:bold; color:green;"></small>
                                <input type="" id="calculoPrecio" name="calculoPrecio" readonly>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="descripcionDetallada">Descripción Detallada</label>
                            <textarea id="descripcionDetallada" name="descripcionDetallada" 
                                      placeholder="Proporcione una descripción detallada del elemento" rows="4"></textarea>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <div class="section-header">
                            <span class="section-icon"><i class="fa-solid fa-triangle-exclamation"></i></span>
                            <h3>Motivo de la Baja</h3>
                        </div>
                        
                        <div class="form-group">
                            <label>Seleccione el(los) motivo(s) de la baja *</label>
                            <div class="checkbox-group">
                                <label class="checkbox-item">
                                    <input type="checkbox" name="motivos" value="DAÑO FÍSICO IRREVERSIBLE">
                                    <span>DAÑO FÍSICO IRREVERSIBLE</span>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" name="motivos" value="OBJETO INSERVIBLE">
                                    <span>OBJETO INSERVIBLE</span>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" name="motivos" value="OBSOLESCENCIA TÉCNICA">
                                    <span>OBSOLESCENCIA TÉCNICA</span>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" name="motivos" value="VENCIMIENTO O CADUCIDAD">
                                    <span>VENCIMIENTO O CADUCIDAD</span>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" name="motivos" value="CONTAMINACIÓN O MAL ALMACENAMIENTO">
                                    <span>CONTAMINACIÓN O MAL ALMACENAMIENTO</span>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" name="motivos" value="NO CUMPLE ESPECIFICACIONES TÉCNICAS">
                                    <span>NO CUMPLE ESPECIFICACIONES TÉCNICAS</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group" id="activoFijoGroup" style="display: none;">
                            <label for="esActivoFijo">¿Es un activo fijo? (Nota: Para verificar si el elemento corresponde a un activo fijo, comuníquese con el equipo de Ingeniería.)</label>
                            <select id="esActivoFijo" name="esActivoFijo" onchange="toggleValorRango()">
                                <option value="NO">NO</option>
                                <option value="SI">SÍ</option>
                            </select>
                        </div>
                        
                        <div class="form-group" id="valorRangoGroup" style="display: none;">
                          <label for="valorRango">Valor del elemento</label>
                          <select id="valorRango" name="valorRango" class="form-control" readonly>
                                <option value="">Seleccione el rango</option>
                                <option value="MENOR_5M">Menor a 5 millones</option>
                                <option value="MAYOR_5M">Mayor a 5 millones</option>
                          </select>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <span><i class="fa-solid fa-paper-plane" style=" margin-right: 10PX;"></i></span> Enviar Solicitud
                        </button>
                        <button type="reset" class="btn btn-secondary">
                            <span><i class="fa-solid fa-arrows-rotate"></i></span> Limpiar Formulario
                        </button>
                    </div>
                </form>
            </div>

            <!-- Historial de Usuario -->
            <div id="historyContent" class="content-section" style="display: none;">
                <div class="content-header">
                    <div>
                        <h1>Mi Historial de Solicitudes</h1>
                        <p>Revise el estado de todas sus solicitudes de baja</p>
                    </div>
                    <button class="btn btn-primary" style="margin: 7rem 0rem 0rem 20rem" onclick="refreshHistory()">
                        <span><i class="fa-solid fa-arrows-rotate" style=" margin-right: 10PX;"></i></span> Actualizar
                    </button>
                </div>
                
                <div class="admin-panel">
                    <div class="panel-header">
                        <span class="panel-icon"><i class="fa-solid fa-clipboard"></i></span>
                        <h3>Mis Solicitudes</h3>
                    </div>
                    
                    <div class="table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>PROCESO</th>
                                    <th>ELEMENTO</th>
                                    <th>ESTADO</th>
                                    <th>FECHA SOLICITUD</th>
                                    <th>ACCIONES</th>
                                </tr>
                            </thead>
                            <tbody id="historyTableBody">
                                <!-- Contenido dinámico -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Panel Administrativo -->
            <div id="adminContent" class="content-section" style="display: none;">
                <div class="content-header">
                    <div>
                        <h1>Panel Administrativo</h1>
                        <p>Gestione y valide las solicitudes de baja de elementos</p>
                    </div>
                    <button class="btn btn-primary" style="margin: 7rem 0rem 0rem 20rem" onclick="refreshAdmin()">
                        <span><i class="fa-solid fa-arrows-rotate" style=" margin-right: 10PX;"></i></span> Actualizar
                    </button>
                </div>
                
                <div class="admin-panel">
                    <div class="panel-header">
                        <span class="panel-icon"><i class="fa-solid fa-gears"></i></span>
                        <h3>Panel Administrativo</h3>
                    </div>
                    
                    <div class="table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>SOLICITANTE</th>
                                    <th>PROCESO</th>
                                    <th>ELEMENTO</th>
                                    <th>ESTADO</th>
                                    <th>FECHA</th>
                                    <th>ACCIONES</th>
                                </tr>
                            </thead>
                            <tbody id="adminTableBody">
                                <!-- Contenido dinámico -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

<!-- Panel de Validadas -->
<div id="validadasContent" class="content-section" style="display: none;">
    <div class="content-header">
        <div>
            <h1>Solicitudes Validadas</h1>
            <p>Trazabilidad de todas las solicitudes completamente validadas</p>
        </div>
        <button class="btn btn-primary" style="margin: 7rem 0rem 0rem 20rem" onclick="refreshValidadas()">
            <span><i class="fa-solid fa-arrows-rotate" style=" margin-right: 10PX;"></i></span> Actualizar
        </button>
    </div>
    
    <div class="admin-panel">
        <div class="panel-header">
            <span class="panel-icon"><i class="fa-solid fa-check-double"></i></span>
            <h3>Historial de Validadas</h3>
        </div>
        
        <div class="table-container">
            <table class="admin-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>SOLICITANTE</th>
                        <th>PROCESO</th>
                        <th>ELEMENTO</th>
                        <th>TIPO</th>
                        <th>FECHA SOLICITUD</th>
                        <th>FECHA VALIDACIÓN</th>
                        <th>ACCIONES</th>
                    </tr>
                </thead>
                <tbody id="validadasTableBody">
                    <!-- Contenido dinámico -->
                </tbody>
            </table>
        </div>
    </div>
</div> 
</div>
</div>

    <!-- Modal estático para ver detalles - contenido fijo en HTML -->
    <div id="detailModal" class="modal" style="display: none; align-content: center;text-align: -webkit-center;">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fa-solid fa-clipboard"></i> Detalles de la Solicitud</h3>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div id="staticDetailContent">
                    <div class="request-details">
                        <div class="detail-section">
                            <h4><i class="fa-solid fa-clipboard"></i> Información General</h4>
                            <p><strong>ID:</strong> <span id="detail-id">-</span></p>
                            <p><strong>Solicitante:</strong> <span id="detail-solicitante">-</span></p>
                            <p><strong>Correo:</strong> <span id="detail-correo">-</span></p>
                            <p><strong>Proceso:</strong> <span id="detail-proceso">-</span></p>
                            <p><strong>Estado:</strong> <span id="detail-estado" class="status-badge">-</span></p>
                            <p><strong>Fecha Solicitud:</strong> <span id="detail-fecha">-</span></p>
                        </div>
                        
                        <div class="detail-section">
                            <h4><i class="fa-solid fa-box"></i> Información del Elemento</h4>
                            <p><strong>Nombre:</strong> <span id="detail-elemento">-</span></p>
                            <p><strong>Tipo:</strong> <span id="detail-tipo">-</span></p>
                            <p><strong>Tipo de Desperdicio:</strong> <span id="detail-tipo2">-</span></p>
                            <p><strong>Motivo:</strong> <span id="detail-motivoBaja">-</span></p>
                            <p><strong>Es Activo Fijo:</strong> <span id="detail-activo">-</span></p>
                            <p><strong>Kilos o Galones:</strong> <span id="detail-kiloGalon">-</span></p>
                            <p><strong>Precio:</strong> <span id="detail-precio">-</span></p>
                            <p><strong>Valor:</strong> <span id="detail-valor">-</span></p>
                        </div>
                        
                        <div class="detail-section" id="validationsSection">
                            <h4><i class="fa-solid fa-person-circle-check"></i> Historial de Validaciones</h4> 
                            <div id="validationsList" class="validations-list">
                                <!-- Validaciones se cargan aquí -->
                            </div>
                        </div>
                        
                        <div class="detail-section" id="observationsSection" style="display: none;">
                            <h4><i class="fa-solid fa-pen-to-square"></i> Observaciones</h4>
                            <p id="detail-observaciones">-</p>
                        </div>

<div class="detail-section" id="ambientalValidationSection" style="display: none;">
    <h4><i class="fa-solid fa-seedling"></i> Validación Ambiental</h4>
    <div id="ambientalValidationsList" class="validations-list">
        <!-- Las validaciones ambientales se cargarán aquí, igual que las individuales -->
    </div>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmación Personalizado -->
    <div id="customModal" class="custom-modal">
        <div class="custom-modal-content">
            <div class="custom-modal-header">
                <h3 class="custom-modal-title" id="customModalTitle">
                    <span id="customModalIcon"><i class="fa-regular fa-circle-question"></i></span>
                    <span id="customModalTitleText">Confirmación</span>
                </h3>
            </div>
            <div class="custom-modal-body">
                <p id="customModalMessage">¿Está seguro de realizar esta acción?</p>
                <input type="text" id="customModalInput" class="custom-modal-input" placeholder="Ingrese sus observaciones..." style="display: none;">
            </div>
            <div class="custom-modal-footer">
                <button class="btn btn-secondary" onclick="closeCustomModal()">
                    <span><i class="fa-solid fa-ban" style=" margin-right: 10PX;"></i></span> Cancelar
                </button>
                <button class="btn btn-primary" id="customModalConfirm" onclick="confirmCustomModal()">
                    <span><i class="fa-regular fa-circle-check" style=" margin-right: 10PX;"></i></span> Confirmar
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para Validación Ambiental -->
<div id="ambientalModal" class="modal" style="display: none; align-content: center;text-align: -webkit-center;">
    <div class="modal-content" style="max-width: 600px;">
        <div class="modal-header">
            <h3><i class="fa-solid fa-seedling"></i> Re-aprobación Ambiental</h3>
            <span class="close" onclick="closeAmbientalModal()">&times;</span>
        </div>
        <div class="modal-body">
            <div class="request-info" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                <h4>Información de la Solicitud</h4>
                <p><strong>ID:</strong> <span id="ambientalRequestId">-</span></p>
                <p><strong>Elemento:</strong> <span id="ambientalElemento">-</span></p>
                <p><strong>Solicitante:</strong> <span id="ambientalSolicitante">-</span></p>
            </div>
            
            <form id="ambientalForm">
                <div class="form-group">
                    <label for="ambientalPrecioReal">Precio Real del Desecho *</label>
                    <input type="number" id="ambientalPrecioReal" name="precioReal" 
                           step="0.01" min="0" required placeholder="Ingrese el precio real">
                </div>
                
                <div class="form-group">
                    <label for="ambientalCantidadReal">Cantidad Real del Desecho *</label>
                    <input type="number" id="ambientalCantidadReal" name="cantidadReal" 
                           step="0.01" min="0" required placeholder="Ingrese la cantidad real">
                    <small style="color: #666;">En Kg, Galones o unidades según corresponda</small>
                </div>

                <div class="form-group">
                    <label for="ambientalProveedor">Nombre del proveedor *</label>
                    <input type="text" id="ambientalProveedor" name="Proveedor" required placeholder="Ingrese el nombre del proveedor">
                </div>

                <div class="form-group">
                    <label for="ticketBascula">No. Ticket de Control Bascula *</label>
                    <input type="text" id="ticketBascula" name="Ticket Control Bascula" required placeholder="Ingrese el No. del ticket de Control Bascula">
                </div>
                
                <div class="form-group">
                    <label for="ambientalObservaciones">Observaciones</label>
                    <textarea id="ambientalObservaciones" name="observaciones" 
                              placeholder="Ingrese observaciones adicionales del proceso de desecho..." 
                              rows="4"></textarea>
                </div>
                
                <div class="form-actions" style="text-align: right; margin-top: 20px;">
                    <button type="button" class="btn btn-secondary" onclick="closeAmbientalModal()">
                        <span></span> Cancelar
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <span></span> Registrar Re-aprobación
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

    <!-- Loading Spinner -->
    <div id="loading" class="loading" style="display: none;">
        <div class="spinner"></div>
        <p>Cargando...</p>
    </div>
</body>

<?!= include('JavaScript/Functions/Auth'); ?>
<?!= include('JavaScript/Functions/listeners'); ?>
<?!= include('JavaScript/Panels/loadData'); ?>
<?!= include('JavaScript/Panels/Modals'); ?>
<?!= include('JavaScript/Panels/panelValidate'); ?>
<?!= include('JavaScript/Panels/reaprove'); ?>
<?!= include('JavaScript/Functions/Utils'); ?>
<?!= include('JavaScript/Panels/Validate'); ?>

</html>